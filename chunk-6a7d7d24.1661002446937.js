(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a7d7d24"],{"076d":function(t,e,a){"use strict";a("a48b")},a48b:function(t,e,a){},f762:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"launchform"},[a("div",{staticClass:"idoform"},[a("div",{staticClass:"tr"},[a("div",{staticClass:"formtit"},[t._v(t._s(t.$t("imo.imo_r1_title")))])]),a("div",{staticClass:"tr",attrs:{id:"countdiv"}},[a("div",{staticClass:"countdownbox"},[t._v(t._s(t.counterTime))])]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.tjr_addr"))+":")]),a("div",{staticClass:"txt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tjrAddr,expression:"tjrAddr"}],staticClass:"addr_tjr",attrs:{type:"text"},domProps:{value:t.tjrAddr},on:{input:function(e){e.target.composing||(t.tjrAddr=e.target.value)}}})])]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.price"))+":")]),a("div",{staticClass:"txt"},[a("p",{staticClass:"price"},[t._v(t._s(t.idoPrice)+"USDT ")])])]),a("div",{staticStyle:{"text-align":"center"}},[a("p",[t._v(" ("+t._s(t.$t("imo.exchangerate"))+": 100USDT = "+t._s(t.totalTokenAmount)+" $AWP) ")])]),a("div",{staticClass:"tr"},[t.isUsdtApproved?a("button",{class:["btn_buy",t.hasPurchased?"btn_buy_gray":""],attrs:{disabled:t.hasPurchased},on:{click:function(e){return t.buy()}}},[t._v(t._s(t.hasPurchased?t.$t("imo.purchased"):t.$t("imo.purchase")))]):a("button",{staticClass:"btn_approve",on:{click:function(e){return t.doApproveUsdt()}}},[t._v(t._s(t.$t("imo.approve")))])]),a("div",{staticClass:"introbox"},[a("div",{staticClass:"intro_tit"},[t._v(t._s(t.$t("imo.purchase_intro")))]),a("div",{staticClass:"intro"},[a("p",[t._v(" "+t._s(t.$t("imo.rule_01"))+" ")]),a("p",[t._v(" "+t._s(t.$t("imo.rule_02"))+" ")]),a("p",[t._v(" "+t._s(t.$t("imo.rule_03"))+" ")])])])]),a("div",{staticClass:"claimform"},[a("div",{staticClass:"tr"},[a("div",{staticClass:"formtit"},[t._v(t._s(t.$t("imo.token_claim")))])]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.awp_available"))+":")]),a("div",{staticClass:"txt"},[a("p",{staticClass:"num"},[t._v(t._s(t.claimableAmount))])]),a("div",{staticClass:"btn"},[a("button",{staticClass:"btn_claim",class:["btn_claim",t.hasClaimedFirst?"btn_buy_gray":""],attrs:{disabled:t.hasClaimedFirst},on:{click:function(e){return t.redeemFirst()}}},[t._v(t._s(t.hasClaimedFirst?t.$t("imo.claimed"):t.$t("imo.claim")))])])]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.awp_locked"))+":")]),t._m(0)])]),a("div",{staticClass:"rewardform"},[a("div",{staticClass:"tr"},[a("div",{staticClass:"formtit"},[t._v(t._s(t.$t("imo.recommend_reward")))])]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.level1rewards"))+":")]),a("div",{staticClass:"txt"},[a("p",{staticClass:"num"},[t._v(t._s(t.level1reward)+"$USDT")])]),a("div",{staticClass:"btn"},[a("button",{staticClass:"btn_claim",on:{click:function(e){return t.redeemFatherRewards()}}},[t._v(t._s(t.$t("imo.claim")))])])]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.level2rewards"))+":")]),a("div",{staticClass:"txt"},[a("p",{staticClass:"num"},[t._v(t._s(t.level2reward)+"$USDT")])]),a("div",{staticClass:"btn"})]),a("div",{staticClass:"tr"},[a("div",{staticClass:"lbl"},[t._v(t._s(t.$t("imo.nft_unclaimed"))+":")]),t._m(1),a("div",{staticClass:"btn"},[a("button",{staticClass:"btn_claim"},[t._v(t._s(t.$t("imo.claim")))])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"txt"},[a("p",{staticClass:"num"},[t._v("0")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"txt"},[a("p",{staticClass:"num"},[t._v("0")])])}],r=a("99e5"),i=a.n(r),o=a("2f62"),c=a("d693"),d=a("e015");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h={name:"Launchpad",data:function(){return{tjrAddr:"",usdtContractInstant:{},idoContractInstant:{},referContractInstant:{},claimReferContractInstant:{},isUsdtApproved:!0,idoPrice:0,level1reward:0,level2reward:0,rootAddress:"0xa578D6dC046591a7FB8591eb7Da6C7412B9a4e63",claimableAmount:0,calcTimer:"",counterTime:"",totalTokenAmount:0,hasPurchased:!1,hasClaimedFirst:!1}},computed:u({},Object(o["b"])(["walletAddr","refAddr"])),mounted:function(){var t=this;t.tjrAddr=t.$store.getters.refAddr,d["a"].$on("message",(function(e){t.initWeb3Instant((function(){t.pageInit()}))})),t.initWeb3Instant((function(){t.pageInit()}))},methods:{pageInit:function(){var t=this,e=this;e.isIDOStart((function(a,n,s,r){s<a&&e.calcTime(),n<s&&t.$Message.info("The IMO is over!"),a<s&&s<n&&t.$Message.info("The IMO already started!")})),e.getPurchaseFee().then((function(t){var a=t/Math.pow(10,18);e.idoPrice=a,e.getFatherClaimableCount().then((function(t){e.level1reward=t*a*.1})),e.getGrandFatherClaimableCount().then((function(t){e.level2reward=t*a*.05}))})),e.getTokenAmount().then((function(t){var a=t/Math.pow(10,9);e.totalTokenAmount=a,e.getPurchasedBuyer().then((function(t){e.hasPurchased=t,e.getFirstClaimableMap().then((function(n){t&&(e.hasClaimedFirst=!n),t&&n&&(e.claimableAmount=a)}))}))}))},getCurrentWalletAddr:function(){var t=this,e=t.$store.getters.walletAddr;return""==e?t.$Message.info({content:t.$t("common.unconnectips")}):e},initWeb3Instant:function(t){this.web3=new i.a(window.web3.currentProvider),this.usdtContractInstant=new this.web3.eth.Contract(c["a"].USDT_CONTRACT.ABI,c["a"].USDT_CONTRACT.ADDRESS),this.idoContractInstant=new this.web3.eth.Contract(c["a"].IDO_CONTRACT.ABI,c["a"].IDO_CONTRACT.ADDRESS),this.referContractInstant=new this.web3.eth.Contract(c["a"].REFER_CONTRACT.ABI,c["a"].REFER_CONTRACT.ADDRESS),this.claimReferContractInstant=new this.web3.eth.Contract(c["a"].CLAIM_REFER_CONTRACT.ABI,c["a"].CLAIM_REFER_CONTRACT.ADDRESS),t&&t()},calcTime:function(){var t=this;t.getStartTime().then((function(e){var a=(new Date).getTime()/1e3;if(a<e){var n=1e3*(e-a);if(n>=0){var s=parseInt(n/36e5)+"",r=parseInt(n%36e5/6e4)+"",i=parseInt(n%36e5%6e4/1e3)+"",o=s.padStart(2,"0")+":"+r.padStart(2,"0")+":"+i.padStart(2,"0");t.counterTime=o}t.calcTimer=window.setTimeout(t.calcTime,1e3)}else document.querySelector("#countdiv").style.display="none"}))},IsUsdtAllowance:function(){var t=this,e=t.getCurrentWalletAddr();return t.usdtContractInstant.methods.allowance(e,c["a"].IDO_CONTRACT.ADDRESS).call()},getPurchaseFee:function(){var t=this;return t.idoContractInstant.methods.sourceAmounts(c["a"].USDT_CONTRACT.ADDRESS).call()},getPurchaseGasFee:function(){var t=this;return t.idoContractInstant.methods.purchaseFee().call()},getBindStatus:function(){var t=this;t.getCurrentWalletAddr();return t.referContractInstant.methods.getBindStatus().call()},doApproveUsdt:function(){var t=this,e={from:t.getCurrentWalletAddr()};t.getPurchaseFee().then((function(a){var n=a+"";t.usdtContractInstant.methods.approve(c["a"].IDO_CONTRACT.ADDRESS,n).send(e).on("transactionHash",(function(e){t.$Message.loading({content:"loading...",duration:0,background:!0})})).then((function(e){t.$Message.destroy(),t.$Message.success({content:"approve success!",onClose:function(){t.isUsdtApproved=!0}})})).catch((function(e){t.$Message.destroy(),t.$Message.error({content:"approve fail!"})}))}))},buy:function(){var t=this,e=t.getCurrentWalletAddr();t.isIDOStart((function(a,n,s,r){s<a?t.$Message.info(t.$t("imo.imo_notstarted")):n<s?t.$Message.info(t.$t("imo.imo_isover")):a<s&&s<n&&t.usdtContractInstant.methods.allowance(e,c["a"].IDO_CONTRACT.ADDRESS).call().then((function(a){var n=a/Math.pow(10,18);t.getPurchaseFee().then((function(a){var s=a/Math.pow(10,18);if(n<s)t.isUsdtApproved=!1,t.$Message.warning(t.$t("imo.approveusdt"));else{if(t.isUsdtApproved=!0,e==t.tjrAddr)return void t.$Message.error(t.$t("imo.self_addr_error"));""==t.tjrAddr||""==t.tjrAddr.trim()?(t.$Message.warning(t.$t("imo.refer_addr_empty")),t.$Modal.confirm({content:t.$t("imo.confirm_refer_addr"),onOk:function(){t.sendTransation(t.rootAddress)}})):t.getBindStatus().then((function(e){e?t.sendTransation(t.tjrAddr):t.$Message.info(t.$t("imo.referer_addr_invalid"))}))}}))}))}))},sendTransation:function(t){var e=this,a=e.getCurrentWalletAddr();e.getPurchaseGasFee().then((function(n){var s={from:a,value:n};e.idoContractInstant.methods.purchase(c["a"].USDT_CONTRACT.ADDRESS,a,t).send(s).on("transactionHash",(function(t){e.$Message.loading({content:"loading...",duration:0,background:!0})})).then((function(t){e.$Message.destroy(),e.$Message.success({content:"purchase success!",onClose:function(){e.$router.go(0)}})})).catch((function(t){e.$Message.destroy(),e.$Message.error({content:"purchase fail!"})}))}))},isIDOStart:function(t){var e=this;e.getStartTime().then((function(a){e.getEndTime().then((function(n){e.getCurrentTimepstamp().then((function(s){e.getRedeemTime().then((function(e){t(a,n,s,e)}))}))}))}))},getCurrentTimepstamp:function(){var t=this;return t.idoContractInstant.methods.getCurrentTimestamp().call()},getStartTime:function(){var t=this;return t.idoContractInstant.methods.startTime().call()},getEndTime:function(t){var e=this;return e.idoContractInstant.methods.endTime().call()},getRedeemTime:function(t){var e=this;return e.idoContractInstant.methods.redeemTime().call()},getFatherClaimableCount:function(){var t=this,e=t.getCurrentWalletAddr();return t.referContractInstant.methods.getFatherClaimableCount(e).call()},getGrandFatherClaimableCount:function(){var t=this,e=t.getCurrentWalletAddr();return t.referContractInstant.methods.getGrandfatherReferCount(e).call()},getPurchasedBuyer:function(t){var e=this,a=e.getCurrentWalletAddr();return e.idoContractInstant.methods.purchasedBuyer(a).call()},getTokenAmount:function(t){var e=this;return e.idoContractInstant.methods.targetTokenMultiplicationFactor().call()},getFirstClaimableMap:function(t){var e=this,a=e.getCurrentWalletAddr();return e.idoContractInstant.methods.firstClaimableMap(a).call()},redeemFatherRewards:function(){var t=this,e=t.getCurrentWalletAddr(),a={from:e};t.getFatherClaimableCount().then((function(e){e<=0?t.$Message.error("No rewards to withdraw"):t.claimReferContractInstant.methods.redeemFatherRewards().send(a).on("transactionHash",(function(e){t.$Message.loading({content:"loading...",duration:0,background:!0})})).then((function(e){t.$Message.destroy(),t.$Message.success({content:"claim success!",onClose:function(){t.$router.go(0)}})})).catch((function(e){t.$Message.destroy(),t.$Message.error({content:"claim fail!"})}))}))},redeemFirst:function(){var t=this,e=t.getCurrentWalletAddr();t.getPurchasedBuyer().then((function(a){t.getFirstClaimableMap().then((function(n){a&&n&&t.getPurchaseGasFee().then((function(a){var n={from:e,value:a};t.idoContractInstant.methods.redeem().send(n).on("transactionHash",(function(e){t.$Message.loading({content:"claiming...",duration:0,background:!0})})).then((function(e){t.$Message.destroy(),t.$Message.success({content:"claim success!",onClose:function(){t.$router.go(0)}})})).catch((function(e){t.$Message.destroy(),t.$Message.error({content:"claim fail!"})}))}))}))}))},redeemSecond:function(){var t=this,e=t.getCurrentWalletAddr();t.getPurchaseGasFee().then((function(a){var n={from:e,value:a};t.idoContractInstant.methods.secondRedeem().send(n).on("transactionHash",(function(e){t.$Message.loading({content:"claiming...",duration:0,background:!0})})).then((function(e){t.$Message.destroy(),t.$Message.success({content:"claim success!",onClose:function(){t.$router.go(0)}})})).catch((function(e){t.$Message.destroy(),t.$Message.error({content:"claim fail!"})}))}))}},destroyed:function(){clearTimeout(this.calcTimer)}},C=h,f=(a("076d"),a("2877")),v=Object(f["a"])(C,n,s,!1,null,"729a1f8b",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-6a7d7d24.1661002446937.js.map